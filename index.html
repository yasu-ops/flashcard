<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>フラッシュカード学習アプリ</title>
    <link rel="stylesheet" href="flash.css"></head>
</head>
<body>
    <div class="container">
        <!-- 学習記録操作ボタン（メイン画面のみ） -->
        <div id="record-controls" class="record-controls">
            <button id="export-record" class="record-btn">学習記録エクスポート</button>
            <button id="import-record" class="record-btn">学習記録インポート</button>
            <input type="file" id="import-file" accept=".csv" />
        </div>

        <!-- メイン画面 -->
        <div id="main-screen">
            <h1>分類して暗記</h1>
            <ul>
            <li>やること＝＝＞<span class="label-untouched">未分類</span>を<span class="label-not-memorized">未暗記</span>・<span class="label-completed">暗記済み</span>に分類。</li>
                <ul>
                    <li><span class="label-not-memorized">未暗記</span>は少しずつ<span class="label-completed">暗記済み</span>に変えていく！</li>
                    <li><span class="label-completed">暗記済み</span>は時々見直し、忘れていないか確認！</li>
                </ul>
            <li>表示方式…カード型；１問ずつ表示／一覧型：全問を一覧表示</li>
            </ul>
            <div id="sets-container">
                <div class="loading">問題・正解セットの一覧.csvを読み込んでいます...</div>
            </div>
        </div>

        <!-- 学習画面 -->
        <div id="study-screen" class="study-screen">
            <button id="back-to-main" class="back-btn">メニューに戻る</button>
            <div class="mode-info">
                <b>『<span id="study-title"></span>』コース</b>
            </div>
            <div class="status" id="study-status">
                <!--<button class="total-btn" onclick="filterAndDisplay('all', getViewMode())">全問: <span id="study-total-count">0</span></button>-->
                <button class="untouched-btn" onclick="filterAndDisplay(0, getViewMode())">未分類: <span id="untouched-count">0</span></button>
                <button class="not-memorized-btn" onclick="filterAndDisplay(1, getViewMode())">未暗記: <span id="not-memorized-count">0</span></button>
                <button class="completed-btn" onclick="filterAndDisplay(2, getViewMode())">暗記済み: <span id="completed-count">0</span></button>
                表示方式
                <div class="view-mode-selector">
                    <input type="radio" id="study-card-mode" name="study-view-mode" value="card" checked>
                    <label for="study-card-mode">カード型</label>
                    <input type="radio" id="study-list-mode" name="study-view-mode" value="list">
                    <label for="study-list-mode">一覧型</label>
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-text" id="current-question"  style="display: block;"></div>
                <div class="question-text" id="question-text"  style="display: block;"></div>
                <div class="answer-text" id="answer-text" style="display: none;"></div>
                <div class="explanation-text" id="explanation-text" style="display: none;"></div>
            </div>
            
            <div class="navigation">
                <button id="prev-question" class="secondary-btn">前へ</button>
                
                <div class="radio-group">
                    <div class="radio-item"><b>分類</b></div>
                    <div class="radio-item">
                        <input type="radio" id="untouched-radio" name="status" value="0">
                        <label for="untouched-radio"><span class="label-untouched">未分類</span></label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="not-memorized-radio" name="status" value="1">
                        <label for="not-memorized-radio"><span class="label-not-memorized">未暗記</span></label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="completed-radio" name="status" value="2">
                        <label for="completed-radio"><span class="label-completed">暗記済み</span></label>
                    </div>
                </div>
                <button id="next-question" class="secondary-btn">次へ</button>
            </div>
            
            <div style="text-align: center;">
                <button id="toggle-answer" class="success-btn">正解を見て分類する</button>
                <button id="toggle-explanation" class="warning-btn" style="display: none;">解説を表示</button>
            </div>
        </div>

        <!-- 一覧画面 -->
        <div id="list-screen" class="list-screen">
            <button id="back-to-main-from-list" class="back-btn">メニューに戻る</button>
            <!--<div class="mode-info" id="list-title"></div>-->
            <b>『<span id="list-title"></span>』コース</b>
            <div class="status" id="list-status">
                <!--<button class="total-btn" onclick="filterAndDisplay('all', 'list')">全問: <span id="list-total-count">0</span></button>-->
                <button class="untouched-btn" onclick="filterAndDisplay(0, 'list')">未分類: <span id="list-untouched-count">0</span></button>
                <button class="not-memorized-btn" onclick="filterAndDisplay(1, 'list')">未暗記: <span id="list-not-memorized-count">0</span></button>
                <button class="completed-btn" onclick="filterAndDisplay(2, 'list')">暗記済み: <span id="list-completed-count">0</span></button>
                表示方式
                <div class="view-mode-selector">
                    <input type="radio" id="list-card-mode" name="list-view-mode" value="card">
                    <label for="list-card-mode">カード型</label>
                    <input type="radio" id="list-list-mode" name="list-view-mode" value="list" checked>
                    <label for="list-list-mode">一覧型</label>
                </div>
            </div>
            <div id="questions-list"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="flash.js"></script>
</body>
</html>